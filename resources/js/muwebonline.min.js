function notifyMe(e, n, t, i) { Notification ? "granted" !== Notification.permission ? Notification.requestPermission() : new Notification(n, { icon: e, body: t }).onclick = function () { window.open(i) } : alert("Seu navegador não suporta notificações, tente o Google Chrome") } function getEvents(e, n, t, i, o) { var a = [], r = n; function s(e, n, t) { return 3600 * e + 60 * n + t } function c() { var n = new Date, a = s(n.getHours(), n.getMinutes(), n.getSeconds()), c = ""; for (l in r) { var f, u; for (f = 0; f < r[l][1].length; f++) { if ((v = s((v = r[l][1][f].split(":"))[0], v[1], 0)) > a) break } f %= r[l][1].length; var v, p = s((v = r[l][1][f].split(":"))[0], v[1], 0) - a; p < 0 && (p += 86400), u = p; var d = "label-primary"; p < 900 && (d = "label-success"); var g = parseInt(p / 3600); p -= 3600 * g; var m = parseInt(p / 60), b = p - 60 * m; if (300 == u) { var N = "O evento " + r[l][0] + " está perto de começar"; notifyMe(t, i, N, o) } var h = g + ":" + ("0" + m).slice(-2) + ":" + ("0" + b).slice(-2); c += "<li>" + r[l][0] + ': <span class="label label-primary ' + d + '">' + h + "</span></li>" } $(e).html(c) } for (var l in a.push(function () { setInterval(c, 1e3) }), a) a[l]() } document.addEventListener("DOMContentLoaded", function () { "granted" !== Notification.permission && Notification.requestPermission() }); function getAddress() { if ($.trim($(".cep").val()) != "") { $.getScript("http://cep.republicavirtual.com.br/web_cep.php?formato=javascript&cep=" + $(".cep").val(), function () { if (resultadoCEP["resultado"]) { $("#street").val(unescape(resultadoCEP["tipo_logradouro"]) + " " + unescape(resultadoCEP["logradouro"])); $("#district").val(unescape(resultadoCEP["bairro"])); $("#city").val(unescape(resultadoCEP["cidade"])); $("#state").val(unescape(resultadoCEP["uf"])); } else { alert("Endereço não encontrado"); return false; } }); } else { alert('Antes, preencha o campo CEP!') } }